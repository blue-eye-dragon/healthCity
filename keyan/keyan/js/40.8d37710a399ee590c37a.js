webpackJsonp([40],{GoC5:function(t,e){},q8bm:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("Xxa5"),o=r.n(n),a=r("exGp"),i=r.n(a),s=r("Dd8w"),c=r.n(s),l=r("NYxO"),u=r("vMJZ"),p={name:"login",data:function(){return{lock:"lock",picPath:"",loginForm:{username:"admin",password:"123456",captcha:"",captchaId:""},rules:{username:[{validator:function(t,e,r){if(e.length<5)return r(new Error("请输入正确的用户名"));r()},trigger:"blur"}],password:[{validator:function(t,e,r){if(e.length<6)return r(new Error("请输入正确的密码"));r()},trigger:"blur"}]}}},created:function(){},methods:c()({},Object(l.b)("user",["LoginIn"]),{changeLock:function(){this.lock="lock"===this.lock?"unlock":"lock"},loginVerify:function(){var t=this;Object(u.captcha)({}).then(function(e){console.log(e),t.picPath=e.data.picPath,t.loginForm.captchaId=e.data.captchaId})},login:function(){var t=this;return i()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.LoginIn(t.loginForm);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)}))()},submitForm:function(){var t=this;return i()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.loginForm.validate(function(){var e=i()(o.a.mark(function e(r){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}t.$router.push({name:"workState"}),e.next=6;break;case 4:return t.$message({type:"error",message:"请正确填写登录信息",showClose:!0}),e.abrupt("return",!1);case 6:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()}})},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"userLayout"}},[r("div",{staticClass:"loginform"},[r("h2",{staticClass:"topTitle"},[t._v("科研服务平台")]),t._v(" "),r("el-form",{ref:"loginForm",attrs:{model:t.loginForm,rules:t.rules},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitForm.apply(null,arguments)}}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}},[r("i",{staticClass:"el-input__icon el-icon-user",attrs:{slot:"suffix"},slot:"suffix"})])],1),t._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"lock"===t.lock?"password":"text",placeholder:"请输入密码"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}},[r("i",{class:"el-input__icon el-icon-"+t.lock,attrs:{slot:"suffix"},on:{click:t.changeLock},slot:"suffix"})])],1),t._v(" "),r("el-form-item",{staticStyle:{position:"relative"}},[r("el-input",{staticStyle:{width:"60%"},attrs:{name:"logVerify",placeholder:"请输入验证码"},model:{value:t.loginForm.captcha,callback:function(e){t.$set(t.loginForm,"captcha",e)},expression:"loginForm.captcha"}}),t._v(" "),r("div",{staticClass:"vPic"},[t.picPath?r("img",{attrs:{src:t.picPath,width:"100%",height:"100%",alt:"请输入验证码"},on:{click:function(e){return t.loginVerify()}}}):t._e()])],1),t._v(" "),r("div"),t._v(" "),r("el-form-item",{staticStyle:{textAlign:"center"}},[r("el-button",{staticStyle:{width:"50%",marginTop:"20px"},attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("登 录")])],1)],1)],1)])},staticRenderFns:[]};var f=r("VU/8")(p,m,!1,function(t){r("GoC5")},null,null);e.default=f.exports}});
//# sourceMappingURL=40.8d37710a399ee590c37a.js.map