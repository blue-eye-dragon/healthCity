webpackJsonp([45],{HguN:function(s,e){},XpRj:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("Xxa5"),o=t.n(a),r=t("exGp"),i=t.n(r),n=t("Dd8w"),l=t.n(n),c=t("6sVf"),d=t("vMJZ"),u=t("NYxO"),p=Object({NODE_ENV:"production"}).VUE_APP_BASE_API,f={name:"Person",components:{ChooseImg:c.default},data:function(){var s=this;return{path:p,activeName:"second",showPassword:!1,pwdModify:{},rules:{password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"最少6个字符",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"最少6个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请输入确认密码",trigger:"blur"},{min:6,message:"最少6个字符",trigger:"blur"},{validator:function(e,t,a){t!==s.pwdModify.newPassword?a(new Error("两次密码不一致")):a()},trigger:"blur"}]}}},computed:l()({},Object(u.c)(["userInfo","token"])),methods:l()({},Object(u.d)("user",["ResetUserInfo"]),{savePassword:function(){var s=this;this.$refs.modifyPwdForm.validate(function(e){if(!e)return!1;Object(d.changePassword)({username:s.userInfo.userName,password:s.pwdModify.password,newPassword:s.pwdModify.newPassword}).then(function(e){0===e.code&&s.$message.success("修改密码成功！"),s.showPassword=!1})})},clearPassword:function(){this.pwdModify={password:"",newPassword:"",confirmPassword:""},this.$refs.modifyPwdForm.clearValidate()},openChooseImg:function(){this.$refs.chooseImg.open()},enterImg:function(s){var e=this;return i()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.setUserInfo)({headerImg:s,ID:e.userInfo.ID});case 2:0===t.sent.code&&(e.ResetUserInfo({headerImg:s}),e.$message({type:"success",message:"设置成功"}));case 4:case"end":return t.stop()}},t,e)}))()},handleClick:function(s,e){console.log(s,e)}})},w={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[t("el-row",[t("el-col",{attrs:{span:6}},[t("div",{staticClass:"fl-left avatar-box"},[t("div",{staticClass:"user-card"},[t("div",{staticClass:"user-headpic-update",style:{"background-image":"url("+(s.userInfo.headerImg&&"http"!==s.userInfo.headerImg.slice(0,4)?s.path+s.userInfo.headerImg:s.userInfo.headerImg)+")","background-repeat":"no-repeat","background-size":"cover"}},[t("span",{staticClass:"update",on:{click:s.openChooseImg}},[t("i",{staticClass:"el-icon-edit"}),s._v("\n              重新上传")])]),s._v(" "),t("div",{staticClass:"user-personality"},[t("p",{staticClass:"nickname"},[s._v(s._s(s.userInfo.nickName))]),s._v(" "),t("p",{staticClass:"person-info"},[s._v("这个家伙很懒，什么都没有留下")])]),s._v(" "),t("div",{staticClass:"user-information"},[t("ul",[t("li",[t("i",{staticClass:"el-icon-user"}),s._v(s._s(s.userInfo.nickName)+"\n              ")]),s._v(" "),t("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"",placement:"top"}},[t("li",[t("i",{staticClass:"el-icon-data-analysis"}),s._v("无\n                ")])]),s._v(" "),t("li",[t("i",{staticClass:"el-icon-video-camera-solid"}),s._v("无\n              ")]),s._v(" "),t("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"goLang/JavaScript/Vue/Gorm",placement:"top"}},[t("li",[t("i",{staticClass:"el-icon-medal-1"}),s._v("无\n                ")])])],1)])])])]),s._v(" "),t("el-col",{attrs:{span:18}},[t("div",{staticClass:"user-addcount"},[t("el-tabs",{on:{"tab-click":s.handleClick},model:{value:s.activeName,callback:function(e){s.activeName=e},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"账号绑定",name:"second"}},[t("ul",[t("li",[t("p",{staticClass:"title"},[s._v("密保手机")]),s._v(" "),t("p",{staticClass:"desc"},[s._v("\n                  已绑定手机:无\n                  "),t("a",{attrs:{href:"#"}},[s._v("立即修改")])])]),s._v(" "),t("li",[t("p",{staticClass:"title"},[s._v("密保邮箱")]),s._v(" "),t("p",{staticClass:"desc"},[s._v("\n                  已绑定邮箱：无\n                  "),t("a",{attrs:{href:"#"}},[s._v("立即修改")])])]),s._v(" "),t("li",[t("p",{staticClass:"title"},[s._v("密保问题")]),s._v(" "),t("p",{staticClass:"desc"},[s._v("\n                  未设置密保问题\n                  "),t("a",{attrs:{href:"#"}},[s._v("去设置")])])]),s._v(" "),t("li",[t("p",{staticClass:"title"},[s._v("修改密码")]),s._v(" "),t("p",{staticClass:"desc"},[s._v("\n                  修改个人密码\n                  "),t("a",{attrs:{href:"#"},on:{click:function(e){s.showPassword=!0}}},[s._v("修改密码")])])])])])],1)],1)])],1),s._v(" "),t("ChooseImg",{ref:"chooseImg",on:{"enter-img":s.enterImg}}),s._v(" "),t("el-dialog",{attrs:{visible:s.showPassword,title:"修改密码",width:"360px"},on:{"update:visible":function(e){s.showPassword=e},close:s.clearPassword}},[t("el-form",{ref:"modifyPwdForm",attrs:{model:s.pwdModify,rules:s.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{minlength:6,label:"原密码",prop:"password"}},[t("el-input",{attrs:{"show-password":""},model:{value:s.pwdModify.password,callback:function(e){s.$set(s.pwdModify,"password",e)},expression:"pwdModify.password"}})],1),s._v(" "),t("el-form-item",{attrs:{minlength:6,label:"新密码",prop:"newPassword"}},[t("el-input",{attrs:{"show-password":""},model:{value:s.pwdModify.newPassword,callback:function(e){s.$set(s.pwdModify,"newPassword",e)},expression:"pwdModify.newPassword"}})],1),s._v(" "),t("el-form-item",{attrs:{minlength:6,label:"确认密码",prop:"confirmPassword"}},[t("el-input",{attrs:{"show-password":""},model:{value:s.pwdModify.confirmPassword,callback:function(e){s.$set(s.pwdModify,"confirmPassword",e)},expression:"pwdModify.confirmPassword"}})],1)],1),s._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){s.showPassword=!1}}},[s._v("取 消")]),s._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:s.savePassword}},[s._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var m=t("VU/8")(f,w,!1,function(s){t("HguN")},null,null);e.default=m.exports}});
//# sourceMappingURL=45.bc48ddfee3c1d5fe5c87.js.map