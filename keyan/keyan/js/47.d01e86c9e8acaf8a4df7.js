webpackJsonp([47],{"W5a+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Xxa5"),o=a.n(i),r=a("exGp"),l=a.n(r),n={name:"state",data:function(){return{page:1,pageSize:10,total:10,searchInfo:{},form:{},num:2,type:"add",selectForm:{},dialogFormVisible:!1,dialogFormVisible1:!1,dialogTitle:"",tableData:[{ID:"1",name:"任务1",category:"PACS系统",description:"PACS系统抽取数据",configuration1:"任务1配置1",configuration2:"任务1配置2",selecData:[{taskTime:"2021-03-04 14:07:35",taskDetails:"记录任务1详情1"},{taskTime:"2021-03-06 14:07:35",taskDetails:"记录任务1详情2"},{taskTime:"2021-03-09 14:07:35",taskDetails:"记录任务1详情3"},{taskTime:"2021-03-12 14:07:35",taskDetails:"记录任务1详情4"}]},{ID:"2",name:"任务2",category:"EMR系统",description:"EMR系统抽取数据",configuration1:"任务2配置1",configuration2:"任务2配置2",selecData:[{taskTime:"2021-04-04 14:07:35",taskDetails:"记录任务2详情1"},{taskTime:"2021-04-06 14:07:35",taskDetails:"记录任务2详情2"},{taskTime:"2021-04-09 14:07:35",taskDetails:"记录任务2详情3"},{taskTime:"2021-04-12 14:07:35",taskDetails:"记录任务2详情4"}]},{ID:"3",name:"任务3",category:"集成系统",description:"集成系统抽取数据",configuration1:"任务3配置1",configuration2:"任务3配置2",selecData:[{taskTime:"2021-05-04 14:07:35",taskDetails:"记录任务3详情1"},{taskTime:"2021-05-06 14:07:35",taskDetails:"记录任务3详情2"},{taskTime:"2021-05-09 14:07:35",taskDetails:"记录任务3详情3"},{taskTime:"2021-05-12 14:07:35",taskDetails:"记录任务3详情4"}]},{ID:"4",name:"任务4",category:"LIS系统",description:"LIS系统抽取数据",configuration1:"任务4配置1",configuration2:"任务4配置2",selecData:[{taskTime:"2021-06-04 14:07:35",taskDetails:"记录任务4详情1"},{taskTime:"2021-06-06 14:07:35",taskDetails:"记录任务4详情2"},{taskTime:"2021-06-09 14:07:35",taskDetails:"记录任务4详情3"},{taskTime:"2021-06-12 14:07:35",taskDetails:"记录任务4详情4"}]},{ID:"5",name:"任务5",category:"数据接口",description:"通过数据接口抽取数据",configuration1:"任务5配置1",configuration2:"任务5配置2",selecData:[{taskTime:"2021-03-04 14:07:35",taskDetails:"记录任务详情1"},{taskTime:"2021-03-06 14:07:35",taskDetails:"记录任务详情2"},{taskTime:"2021-03-09 14:07:35",taskDetails:"记录任务详情3"},{taskTime:"2021-03-12 14:07:35",taskDetails:"记录任务详情4"}]}],rules:{name:[{required:!0,message:"请输入任务名称",trigger:"blur"}],category:[{required:!0,message:"请选择任务类别",trigger:"blur"}],description:[{required:!0,message:"请输入任务描述",trigger:"blur"}],configuration1:[{required:!0,message:"请输入任务配置",trigger:"blur"}],configuration2:[{required:!0,message:"请输入任务配置",trigger:"blur"}]},categoryOptions:[{label:"数据接口",value:"1"},{label:"集成系统",value:"2"},{label:"PACS系统",value:"3"},{label:"LIS系统",value:"4"},{label:"历史数据",value:"5"},{label:"EMR系统",value:"6"}]}},methods:{handleCurrentChange:function(){},handleSizeChange:function(){},openDialog:function(e){switch(e){case"add":this.dialogTitle="新增抽取任务";break;case"edit":this.dialogTitle="编辑抽取任务"}this.type=e,this.dialogFormVisible=!0},initForm:function(){this.$refs.stateForm.resetFields(),this.form={path:"",apiGroup:"",method:"",description:""}},editApi:function(e){var t=this;return l()(o.a.mark(function a(){return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.openDialog("edit"),t.form=e;case 2:case"end":return a.stop()}},a,t)}))()},closeDialog:function(){this.initForm(),this.dialogFormVisible=!1},addConfig:function(){this.num++,this.rules["configuration"+this.num]=[{required:!0,message:"请输入任务配置",trigger:"blur"}]},delConfig:function(){if(this.num<3)return this.$message.info("配置项至少为两项"),!1;this.num--},deleteApi:function(e){var t=this;return l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$confirm("此操作将删除任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then();case 1:case"end":return e.stop()}},e,t)}))()},disableApi:function(e){var t=this;return l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$confirm("此操作将禁用任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then();case 1:case"end":return e.stop()}},e,t)}))()},enterDialog:function(){var e,t=this;"add"==this.type&&this.$refs.stateForm.validate((e=l()(o.a.mark(function e(a){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a&&(t.form.ID=t.tableData.length+1,t.tableData.push(t.form),t.closeDialog());case 1:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},onSubmit:function(){},recordApi:function(e){this.dialogFormVisible1=!0,this.selectForm=e},closeDialog1:function(){this.dialogFormVisible1=!1}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"searchFrom clearflex"},[a("el-col",{attrs:{span:18}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchInfo}},[a("el-form-item",{attrs:{label:"类别"}},[a("el-select",{attrs:{placeholder:"请选择任务类别"},model:{value:e.searchInfo.category,callback:function(t){e.$set(e.searchInfo,"category",t)},expression:"searchInfo.category"}},e._l(e.categoryOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:e.searchInfo.name,callback:function(t){e.$set(e.searchInfo,"name",t)},expression:"searchInfo.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{placeholder:"描述"},model:{value:e.searchInfo.description,callback:function(t){e.$set(e.searchInfo,"description",t)},expression:"searchInfo.description"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openDialog("add")}}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:!0,border:!0}},[a("el-table-column",{attrs:{prop:"ID",label:"ID",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"任务名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"category",label:"任务类型",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"任务描述","min-width":"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"370"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.editApi(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.deleteApi(t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"warning",icon:"el-icon-close"},on:{click:function(a){return e.disableApi(t.row)}}},[e._v("禁用")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"success",icon:"el-icon-close"},on:{click:function(a){return e.recordApi(t.row)}}},[e._v("记录")])]}}])})],1),e._v(" "),a("el-pagination",{style:{float:"right",padding:"20px"},attrs:{"current-page":e.page,"page-size":e.pageSize,"page-sizes":[10,30,50,100],total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}),e._v(" "),a("el-dialog",{attrs:{"before-close":e.closeDialog,title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"stateForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务名称",prop:"name"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入任务名称",autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务类别",prop:"category"}},[a("el-select",{attrs:{placeholder:"请选择任务类别"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},e._l(e.categoryOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"任务描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入任务描述",autocomplete:"off"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),e._l(e.num,function(t){return a("el-form-item",{key:t,attrs:{label:"配置"+t,prop:"configuration"+t}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入配置",autocomplete:"off"},model:{value:e.form["configuration"+t],callback:function(a){e.$set(e.form,"configuration"+t,a)},expression:"form['configuration'+count]"}})],1)}),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.delConfig}},[e._v("减少配置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addConfig}},[e._v("新增配置")])],1)],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.enterDialog}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{"before-close":e.closeDialog1,title:e.selectForm.name,visible:e.dialogFormVisible1},on:{"update:visible":function(t){e.dialogFormVisible1=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.selectForm.selecData,stripe:!0,border:!0}},[a("el-table-column",{attrs:{prop:"taskTime",label:"使用时间","min-width":"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskDetails",label:"任务详情","min-width":"180"}})],1)],1)],1)},staticRenderFns:[]};var c=a("VU/8")(n,s,!1,function(e){a("yeRZ")},null,null);t.default=c.exports},yeRZ:function(e,t){}});
//# sourceMappingURL=47.d01e86c9e8acaf8a4df7.js.map